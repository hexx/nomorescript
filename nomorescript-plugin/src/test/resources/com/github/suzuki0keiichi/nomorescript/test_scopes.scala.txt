import com.github.suzuki0keiichi.nomorescript.annotation._

@mock class Console {
  def log(message: String) = {}
}

@mock class GlobalBase {
  def console: Console = null
}

@global @mock object Global extends GlobalBase {
}

import Global._

class ScopeTest {
  val a = 10
  console.log("a = " + a)

  def hoge() = {
    val a = 20
    console.log("a = " + a)
  }

  hoge()
  
  console.log("a = " + a)

  if (a == 10) {
    val a = 30
    console.log("a = " + a)
    if (a == 30) {
      val a = 40
      console.log("a = " + a)
    }
    console.log("a = " + a)
  }

  console.log("a = " + a)
}

@global object Main extends App {
	new ScopeTest()
}